<!-- pages/assessment/assessment.wxml -->
<view class="container">

  <!-- æ•°æ®æ¦‚è§ˆ -->
  <view class="overview" style="width: 100%;">
    <view class="overview-title">æœ¬æœˆè€ƒæ ¸æ¦‚è§ˆ</view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-value">{{assessmentData.currentScore || 0}}</text>
        <text class="stat-label">å®¡æ ¸åçš„æœ€ç»ˆè¯„åˆ†</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{assessmentData.rank || '-'}}</text>
        <text class="stat-label">éƒ¨é—¨æ’å</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{assessmentData.completionRate || '0%'}}</text>
        <text class="stat-label">å®Œæˆåº¦</text>
      </view>
    </view>
  </view>

  <!-- è€ƒæ ¸é¡¹ç›®åˆ—è¡¨ -->
  <view class="assessment-list" style="width: 100%;">
    <view class="assessment-item ethics-item">
      <view class="item-header">
        <text class="item-name">å¸ˆå¾·å¸ˆé£ä¼˜ã€åˆæ ¼ã€ä¸åˆæ ¼</text>
        <text class="item-score ethics-score {{standardName === 'ä¼˜' ? 'ethics-score--excellent' : (standardName === 'ä¸åˆæ ¼' ? 'ethics-score--poor' : 'ethics-score--good')}}">
          {{standardName || 'å¾…å®š'}}
        </text>
      </view>
      <view class="item-desc">ç»¼åˆæ•™å¸ˆèŒä¸šé“å¾·ã€æœåŠ¡æ„è¯†ä¸è‚²äººè¡¨ç°çš„å¹´åº¦è¯„ä»·ã€‚</view>
    </view>
    <view class="section-title">è€ƒæ ¸é¡¹ç›®</view>
    
    <view class="assessment-item" wx:for="{{assessmentList}}" wx:key="id">
      <view bindtap="navigateToEvaluation" data-id="{{item.id}}">
        <view class="item-header">
          <text class="item-name">
            {{item.indicatorName}}
            <text wx:if="{{item.isExistLeaderGrade}}" class="lock-icon">ğŸ”’</text>
          </text>
          <text wx:if="{{item.displayScore<5000&&item.displayScore>-5000}}" class="item-score {{item.displayScore >= 90 ? 'excellent' : item.displayScore >= 80 ? 'good' : 'average'}}">
            {{item.displayScore?item.displayScore:0}}åˆ†
          </text>
          <text wx:elif="{{item.displayScore>=5000||item.displayScore<=-5000}}" class="item-score {{item.displayScore >= 5000 ? 'excellent' : 'average'}}">
            {{item.displayScore>=5000?'åˆæ ¼':'ä¸åˆæ ¼'}}
          </text>
        </view>
        <view class="item-desc">{{item.description?item.description:""}}</view>
        <view class="item-progress">
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{item.progress + '%'}}"></view>
          </view>
          <text class="progress-text">{{item.progress}}%</text>
        </view>
        <view class="item-footer">
          <text class="item-time">è€ƒæ ¸æ—¶é—´ï¼š{{item.assessTime}}</text>
          <text class="item-status {{item.status}}">{{item.statusText}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <!-- <view class="menu-grid">
    <view class="menu-item" bindtap="onMenuTap" data-page="detail">
      <view class="menu-icon">ğŸ“Š</view>
      <text class="menu-text">è¯¦ç»†æŠ¥å‘Š</text>
    </view>
    <view class="menu-item" bindtap="onMenuTap" data-page="history">
      <view class="menu-icon">ğŸ“…</view>
      <text class="menu-text">å†å²è®°å½•</text>
    </view>
    <view class="menu-item" bindtap="onMenuTap" data-page="compare">
      <view class="menu-icon">ğŸ“ˆ</view>
      <text class="menu-text">å¯¹æ¯”åˆ†æ</text>
    </view>
    <view class="menu-item" bindtap="onMenuTap" data-page="settings">
      <view class="menu-icon">âš™ï¸</view>
      <text class="menu-text">ä¸ªäººè®¾ç½®</text>
    </view>
  </view> -->
</view>